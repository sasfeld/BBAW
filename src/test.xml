<?xml version="1.0" encoding="UTF-8"?>
<config charset="UTF-8">

    <var-def name="article">
    	<xquery>
    	  <xq-param name="doc">
                <html-to-xml
                 outputtype="browser-compact" prunetags="yes">
                    <http url="${url}"/>
                </html-to-xml>
          </xq-param> 

          <xq-expression><![CDATA[
            declare variable $doc as node() external;
	        let $title := data($doc//div[@class="post"]/h1)
	        let $link
                     := data
                     ($doc//div[@class="post"]/h1/a/@href)
	        let $author
                  :=
                  data(
                  $doc//div[@class="post"]/p[@class="postinfo"]/a
                  )
	        return
	        	<article>
	              <title>{$title}</title>
	              <author>{$author[1]}</author>
	               <link>{$link}</link>
	            </article>
	       ]]>
	       </xq-expression> 

        </xquery>
   </var-def>    

</config>